<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Browser | ApeCode</title>
    <meta name="description" content="describe">
    <meta name="generator" content="VitePress v1.0.1">
    <link rel="preload stylesheet" href="/apecode/assets/style.E0kc27V4.css" as="style">
    
    <script type="module" src="/apecode/assets/app.oIZrLJha.js"></script>
    <link rel="preload" href="/apecode/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/apecode/assets/chunks/framework.C-fnN7C-.js">
    <link rel="modulepreload" href="/apecode/assets/chunks/theme.DPgzJ6Wc.js">
    <link rel="modulepreload" href="/apecode/assets/en_essays_browser.md.CHHhRBCZ.lean.js">
    <link rel="icon" href="./images/logo.png">
    <link rel="keywords" content="猿代码、apecode">
    <link rel="description" content="程序猿的秘密花园">
    <script>(function(e,s,t,i,o,n,r){e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},n=s.createElement(i),n.async=1,n.src="https://www.clarity.ms/tag/"+o,r=s.getElementsByTagName(i)[0],r.parentNode.insertBefore(n,r)})(window,document,"clarity","script","jporfk7f2x");</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <meta name="referrer" content="never">
    <link rel="icon" href="./images/logo.png">
    <link rel="keywords" content="猿代码、apecode">
    <link rel="description" content="程序猿的秘密花园">
    <script>(function(e,s,t,i,o,n,r){e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},n=s.createElement(i),n.async=1,n.src="https://www.clarity.ms/tag/"+o,r=s.getElementsByTagName(i)[0],r.parentNode.insertBefore(n,r)})(window,document,"clarity","script","jporfk7f2x");</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar has-sidebar top" data-v-ae24b3ad data-v-ccf7ddec><div class="wrapper" data-v-ccf7ddec><div class="container" data-v-ccf7ddec><div class="title" data-v-ccf7ddec><div class="VPNavBarTitle has-sidebar" data-v-ccf7ddec data-v-ab179fa1><a class="title" href="/apecode/en/" data-v-ab179fa1><!--[--><!--]--><!--[--><img class="VPImage logo" src="../images/logo_min.svg" alt data-v-8426fc1a><!--]--><span data-v-ab179fa1>ApeCode</span><!--[--><!--]--></a></div></div><div class="content" data-v-ccf7ddec><div class="content-body" data-v-ccf7ddec><!--[--><!--]--><div class="VPNavBarSearch search" data-v-ccf7ddec><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-ccf7ddec data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/apecode/en/" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/apecode/en/navigation.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Navigation</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/apecode/en/function.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Light Function</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-7f418b0f data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>Eight-part essay</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/apecode/en/essays/essays.html" data-v-43f1e123><!--[-->Overview<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/apecode/en/essays/network.html" data-v-43f1e123><!--[-->Network<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link active" href="/apecode/en/essays/browser.html" data-v-43f1e123><!--[-->Browser<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/apecode/en/essays/html.html" data-v-43f1e123><!--[-->HTML<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/apecode/en/essays/css.html" data-v-43f1e123><!--[-->CSS<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/apecode/en/essays/javascript.html" data-v-43f1e123><!--[-->JavaScript<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/apecode/en/essays/vue.html" data-v-43f1e123><!--[-->Vue<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/apecode/en/essays/vue3.html" data-v-43f1e123><!--[-->Vue3<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/apecode/en/essays/react.html" data-v-43f1e123><!--[-->React<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/apecode/en/essays/other.html" data-v-43f1e123><!--[-->Other<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>Interview Questions</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/apecode/en/blog/js.html" data-v-43f1e123><!--[-->Javascript<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/apecode/en/quotation.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Quotes</span><!--]--></a><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-ccf7ddec data-v-88af2de4 data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><span class="vpi-languages option-icon" data-v-b6c34ac9></span><!----><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><div class="items" data-v-88af2de4><p class="title" data-v-88af2de4>English</p><!--[--><div class="VPMenuLink" data-v-88af2de4 data-v-43f1e123><a class="VPLink link" href="/apecode/essays/browser.html" data-v-43f1e123><!--[-->简体中文<!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-ccf7ddec data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-ccf7ddec data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/minsion/apecode" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-ccf7ddec data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><div class="group translations" data-v-d0bd9dde><p class="trans-title" data-v-d0bd9dde>English</p><!--[--><div class="VPMenuLink" data-v-d0bd9dde data-v-43f1e123><a class="VPLink link" href="/apecode/essays/browser.html" data-v-43f1e123><!--[-->简体中文<!--]--></a></div><!--]--></div><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>Exterior</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/minsion/apecode" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-ccf7ddec data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-ccf7ddec><div class="divider-line" data-v-ccf7ddec></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>navigation</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-d2ecc192><button data-v-d2ecc192>Back to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-575e6a36><div class="curtain" data-v-575e6a36></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-575e6a36><span class="visually-hidden" id="sidebar-aria-label" data-v-575e6a36> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 has-active" data-v-575e6a36 data-v-b8d55f3b><!----><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/apecode/en/essays/essays.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/apecode/en/essays/network.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Network</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/apecode/en/essays/browser.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Browser</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/apecode/en/essays/html.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>HTML</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/apecode/en/essays/css.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>CSS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/apecode/en/essays/javascript.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>JavaScript</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/apecode/en/essays/vue.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Vue</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/apecode/en/essays/vue3.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Vue3</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/apecode/en/essays/react.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>React</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/apecode/en/essays/other.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Other</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-935f8a84><div class="content" data-v-935f8a84><div class="outline-marker" data-v-935f8a84></div><div class="outline-title" role="heading" aria-level="2" data-v-935f8a84>Catalogue</div><nav aria-labelledby="doc-outline-aria-label" data-v-935f8a84><span class="visually-hidden" id="doc-outline-aria-label" data-v-935f8a84> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-935f8a84 data-v-b933a997><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _apecode_en_essays_browser" data-v-39a288b8><div><h1 id="browser" tabindex="-1">Browser <a class="header-anchor" href="#browser" aria-label="Permalink to &quot;Browser&quot;">​</a></h1><h2 id="the-whole-process-from-inputting-url-to-loading-page" tabindex="-1">The whole process from inputting URL to loading page <a class="header-anchor" href="#the-whole-process-from-inputting-url-to-loading-page" aria-label="Permalink to &quot;The whole process from inputting URL to loading page&quot;">​</a></h2><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e44aa8a92602405db3c12161b71e2094~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt=""></p><ol><li><p>First enter the URL in the browser;</p></li><li><p>Search cache: The browser first checks whether there is a page with the address in the browser cache-system cache-route cache, and displays the page content if there is one. If not, proceed to the next step:</p></li></ol><ul><li><p>Browser cache: The browser will record DNS for a period of time, so it is only the first place to resolve the DNS request;</p></li><li><p>Operating system cache: If this record is not included in the browser cache, the system will call the operating system to obtain the operating system record (save the most recent DNS query cache);</p></li><li><p>Router cache: If the above two steps cannot successfully obtain the DNS record, continue to search the router cache;</p></li><li><p>ISP cache: If all the above fail, continue to search the ISP.</p></li></ul><ol start="3"><li><p>DNS domain name resolution: The browser initiates a request to the DNS server to resolve the IP address corresponding to the domain name in the URL. DNS server is based on UDP, so UDP protocol is used;</p></li><li><p>Establish TCP connection: After resolving the IP address, establish TCP connection with the server according to the IP address and the default port 80;</p></li><li><p>Initiate HTTP request: The browser initiates an HTTP request to read the file, and the request message is sent to the server as the third data of the TCP three-way handshake;</p></li><li><p>The server responds to the request and returns the result: The server responds to the browser request and sends the corresponding html file to the browser;</p></li><li><p>Close TCP connection: Release the TCP connection through four waves;</p></li><li><p>Browser rendering: The client (browser) parses the HTML content and renders it. The parsing process after the browser receives the data packet is:</p></li></ol><ul><li><p>Build DOM tree: Lexical analysis and then parse into DOM tree (dom tree), which is composed of dom elements and attribute nodes, and the root of the tree is the document object</p></li><li><p>Build CSS rule tree: Generate CSS rule tree (CSS Rule Tree)</p></li><li><p>Build render tree: Web browser will DOM and CSSOM Combine and build a render tree</p></li><li><p>Layout: calculate the position of each node on the screen</p></li><li><p>Painting: traverse the render tree and use the UI backend layer to draw each node.</p></li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a90660027f0d4c559732519bad4c6323~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt=""></p><ol start="9"><li>JS engine parsing process: calling JS engine to execute JS code (JS interpretation phase, preprocessing phase, execution phase to generate execution context, VO, scope chain, recycling mechanism, etc.)</li></ol><ul><li><p>Create window object: window object is also called global execution environment. It is created when the page is generated. All global variables and functions belong to the properties and methods of window, and DOM Tree will also be mapped to the doucment object of window. When you close the webpage or the browser, the global execution environment will be destroyed;</p></li><li><p>Loading files: The js engine analyzes whether its syntax and lexical structure are legal. If legal, it will enter pre-compilation;</p></li><li><p>Pre-compilation: During the pre-compilation process, the browser will look for global variable declarations, add it to the window object as a window attribute, and assign the variable to &#39;undefined&#39;; look for global function declarations, add it to the window object as a window method, and assign the function body to it (anonymous functions do not participate in pre-compilation because they are variables). The unreasonable problem of variable promotion has been solved in ES6, but function promotion still exists;</p></li><li><p>Interpretation and execution: Assign values ​​to variables when executed. If the variable is not defined, it will not be directly assigned by pre-compilation. In ES5 non-strict mode, this variable will become a property of window, that is, a global variable. Values ​​such as string and int directly put the value in the variable&#39;s storage space, and object objects point pointers to the variable&#39;s storage space. When a function is executed, the function environment is pushed into a stack of environments, and then popped out after execution, and control is returned to the previous environment. JS scope is actually implemented by such an execution flow mechanism.</p></li></ul><h2 id="what-is-the-difference-between-browser-redrawing-and-reflow" tabindex="-1">What is the difference between browser redrawing and reflow? <a class="header-anchor" href="#what-is-the-difference-between-browser-redrawing-and-reflow" aria-label="Permalink to &quot;What is the difference between browser redrawing and reflow?&quot;">​</a></h2><ul><li><p>Reflow: When changes in the DOM affect the geometric information of an element, the browser needs to recalculate the geometric properties of the element and place it in the correct position in the interface. This process is called reflow. It manifests as <code>regenerating the layout and rearranging the elements.</code></p></li><li><p>Repaint: When the appearance of an element changes, but the layout is not changed, the process of redrawing the appearance of the element is called redrawing. It manifests as <code>the appearance of some elements has changed.</code></p></li></ul><p>Simply changing the appearance of an element will definitely not cause the web page to regenerate the layout, but when the browser completes the reflow, it will redraw the parts affected by the reflow.</p><p>Reflow and repaint are expensive. They will destroy the user experience and make the UI display very sluggish. In comparison, reflow has a greater performance impact. In the case where both cannot be avoided, we generally prefer to choose a less expensive repaint.</p><p><code>&#39;Repaint&#39; does not necessarily lead to &#39;reflow&#39;, but &#39;reflow&#39; will inevitably lead to &#39;repaint&#39;. </code></p><h2 id="how-to-trigger-reflow-and-repaint" tabindex="-1">How to trigger reflow and repaint? <a class="header-anchor" href="#how-to-trigger-reflow-and-repaint" aria-label="Permalink to &quot;How to trigger reflow and repaint?&quot;">​</a></h2><p>Any change to the information used to build the render tree will cause a reflow or repaint:</p><ul><li><p>Add, delete, or update DOM nodes;</p></li><li><p>Hide a DOM node through display: none - trigger reflow and repaint;</p></li><li><p>Hide a DOM node through visibility: hidden - only trigger repaint because there is no geometric change;</p></li><li><p>Move or animate DOM nodes in the page;</p></li><li><p>Add a style sheet and adjust style properties;</p></li><li><p>User behavior, such as resizing the window, changing the font size, or scrolling.</p></li></ul><h2 id="how-to-avoid-repaint-or-reflow" tabindex="-1">How to avoid repaint or reflow? <a class="header-anchor" href="#how-to-avoid-repaint-or-reflow" aria-label="Permalink to &quot;How to avoid repaint or reflow?&quot;">​</a></h2><ol><li>Change styles in a centralized manner, and do not modify DOM styles one by one. ;</li><li>Do not put the attribute values ​​of DOM nodes in the loop as variables in the loop. ;</li><li>Use fixed or absolute position for the animated HTML elements, so that modifying their CSS will not reflow. ;</li><li>Do not use table layout. Because a small change may cause the entire table to be re-laid out. ;</li><li>Try to modify only position: absolute or fixed elements, which will have little impact on other elements;</li><li>GPU acceleration for animation starts, and 3D changes are used for translate;</li><li>Promote to composite layer;</li></ol><p>Promoting elements to composite layers has the following advantages:</p><ul><li>The bitmap of the composite layer will be composited by the GPU, which is faster than CPU processing;</li><li>When repainting is needed, only repaint itself is needed, which will not affect other layers;</li><li>For transform and opacity effects, layout and paint will not be triggered</li></ul><p>The best way to promote a composite layer is to use the will-change attribute of CSS:</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">#target</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">will-change</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: transform;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="introduce-the-304-process" tabindex="-1">Introduce the 304 process <a class="header-anchor" href="#introduce-the-304-process" aria-label="Permalink to &quot;Introduce the 304 process&quot;">​</a></h2><blockquote><p>The HTTP 304 Not Modified client redirection response code indicates that there is no need to retransmit the requested resources.</p></blockquote><p><code>304 Not Modified</code>: The unmodified client redirect response code indicates that there is no need to resend the requested resource.</p><ol><li><p>When the browser requests a resource, it first hits the resource&#39;s Expires and Cache-Control. Expires is limited by the local time. If the local time is modified, the cache may become invalid. The maximum life cycle can be specified through Cache-control: max-age. The status still returns 200, but no data will be requested. The words from cache can be clearly seen in the browser;</p></li><li><p>The strong cache fails and enters the negotiation cache stage. First, verify ETag. ETag can ensure that each resource is unique, and resource changes will cause ETag changes. The server determines whether the cache is hit based on the If-None-Match value sent by the client;</p></li><li><p>In the negotiation cache Last-Modify/If-Modify-Since stage, when the client requests a resource for the first time, the header returned by the server will add Last-Modify. Last-modify is a time mark indicating the last modification time of the resource. When requesting the resource again, the request header will contain If-Modify-Since, which is the Last-Modify returned before caching. After receiving If-Modify-Since, the server determines whether the cache is hit based on the last modification time of the resource.</p></li></ol><h2 id="browser-caching-mechanism-forced-caching-negotiated-caching" tabindex="-1">Browser caching mechanism Forced caching &amp;&amp; Negotiated caching <a class="header-anchor" href="#browser-caching-mechanism-forced-caching-negotiated-caching" aria-label="Permalink to &quot;Browser caching mechanism Forced caching &amp;&amp; Negotiated caching&quot;">​</a></h2><p>The way the browser communicates with the server is the response mode, that is: the browser initiates an HTTP request - the server responds to the request. Then after the browser initiates the request to the server for the first time and gets the request result, it will decide whether to cache the result based on the cache flag in the HTTP header of the response message. If it is, it will store the request result and cache flag in the browser cache. The simple process is as follows:</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/487144abaada4b9a8b34bc9375191ec7~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp" alt=""></p><p>From the above figure, we can know:</p><ul><li>Every time the browser initiates a request, it will first search for the result of the request and the cache flag in the browser cache;</li><li>Every time the browser gets the returned request result, it will store the result and cache flag in the browser cache.</li></ul><p>The above two conclusions are the key to the browser cache mechanism. It ensures the cache storage and reading of each request. As long as we understand the usage rules of the browser cache, all problems will be solved. For easy understanding, the cache process is divided into two parts, namely <code>forced cache</code> and <code>negotiated cache</code>, according to whether it is necessary to re-initiate HTTP request to the server.</p><h3 id="forced-cache" tabindex="-1">Forced cache <a class="header-anchor" href="#forced-cache" aria-label="Permalink to &quot;Forced cache&quot;">​</a></h3><p><code>Forced cache is the process of searching the browser cache for the request result and deciding whether to use the cache result according to the cache rule of the result</code>. When the browser initiates a request to the server, the server will put the cache rule into the HTTP header of the HTTP response message and return it to the browser together with the request result. The fields that control forced cache are <code>Expires</code> and <code>Cache-Control</code>, among which Cache-Control has a higher priority than Expires.</p><p>There are three main situations of forced caching (the negotiation cache process is not analyzed for the time being), as follows:</p><ol><li><p>If the cache result and cache identifier do not exist, the forced cache is invalid, and a request is directly made to the server (consistent with the first request);</p></li><li><p>If the cache result and cache identifier exist, but the result has expired, the forced cache is invalid, and the negotiated cache is used;</p></li><li><p>If the cache result and cache identifier exist, and the result has not expired, the forced cache is effective, and the result is directly returned</p></li></ol><h3 id="negotiated-cache" tabindex="-1">Negotiated Cache <a class="header-anchor" href="#negotiated-cache" aria-label="Permalink to &quot;Negotiated Cache&quot;">​</a></h3><p><code>Negotiated cache is the process in which the browser sends a request to the server with the cache identifier after the forced cache is invalid, and the server decides whether to use the cache based on the cache identifier</code>. Similarly, the negotiated cache identifier is also returned to the browser in the HTTP header of the response message together with the request result. The fields that control the negotiated cache are: Last-Modified / If-Modified-Since and Etag / If-None-Match, among which Etag / If-None-Match has a higher priority than Last-Modified / If-Modified-Since. There are two main situations for negotiation cache:</p><ol><li><p>Negotiation cache takes effect, return 304;</p></li><li><p>Negotiation cache fails, return 200 and request result.</p></li></ol><h2 id="let-s-talk-about-processes-threads-and-coroutines" tabindex="-1">Let&#39;s talk about processes, threads and coroutines <a class="header-anchor" href="#let-s-talk-about-processes-threads-and-coroutines" aria-label="Permalink to &quot;Let&#39;s talk about processes, threads and coroutines&quot;">​</a></h2><p>A process is a dynamic execution process of a program with certain independent functions on a data set. It is an independent unit for resource allocation and scheduling of the operating system and a carrier for application operation. Process is an abstract concept and has never had a unified standard definition.</p><p>A thread is a single sequential control flow in program execution. It is the smallest unit of program execution flow and the basic unit of processor scheduling and dispatching. A process can have one or more threads, and each thread shares the program&#39;s memory space (that is, the memory space of the process in which it is located). A standard thread consists of a thread ID, a current instruction pointer (PC), registers, and registers. and stack. A process consists of memory space (code, data, process space, open files) and one or more threads.</p><p>Coroutines, in English, is based on threads, but is &quot;lighter than threads&quot;. This lightweight thread managed by programmers writing programs is called &quot;user space thread&quot; and has the characteristic of being invisible to the kernel.</p><p>[Difference]: Scheduling: Threads are the basic unit of scheduling and allocation, and processes are the basic unit of resources; Concurrency: Not only can processes be executed concurrently, but multiple threads of the same process can also be executed concurrently; Owning resources: A process is an independent unit with resources. Threads do not own system resources, but can access resources belonging to processes. System overhead: When creating or canceling a process, the system overhead is significantly greater than the overhead of creating or canceling a thread because the system has to allocate and recycle resources for it. However, processes have independent address spaces. When a process crashes, it will not affect other processes in protected mode, while threads are just different execution paths in a process. Threads have their own stacks and local variables, but there is no separate address space between threads. If a process dies, all threads die. Therefore, multi-process programs are more robust than multi-threaded programs, but when switching processes, they consume more resources and are less efficient.</p><p>[Relationship]: A thread can only belong to one process, while a process can have multiple threads, but at least one thread; Resources are allocated to processes, and all threads of the same process share all resources of the process; Processors are allocated to threads, that is, threads actually run on processors; Threads need to cooperate and synchronize during execution. Threads of different processes should use message communication to achieve synchronization.</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-09de1c0f><!--[--><!--]--><div class="edit-info" data-v-09de1c0f><div class="edit-link" data-v-09de1c0f><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/minsion/apecode/blob/master/docs/en/essays/browser.md" target="_blank" rel="noreferrer" data-v-09de1c0f><!--[--><span class="vpi-square-pen edit-link-icon" data-v-09de1c0f></span> Edit this page<!--]--></a></div><div class="last-updated" data-v-09de1c0f><p class="VPLastUpdated" data-v-09de1c0f data-v-7e05ebdb>Last updated on: <time datetime="2024-07-14T14:11:00.000Z" data-v-7e05ebdb></time></p></div></div><nav class="prev-next" data-v-09de1c0f><div class="pager" data-v-09de1c0f><a class="VPLink link pager-link prev" href="/apecode/en/essays/network.html" data-v-09de1c0f><!--[--><span class="desc" data-v-09de1c0f>Previous</span><span class="title" data-v-09de1c0f>Network</span><!--]--></a></div><div class="pager" data-v-09de1c0f><a class="VPLink link pager-link next" href="/apecode/en/essays/html.html" data-v-09de1c0f><!--[--><span class="desc" data-v-09de1c0f>Next</span><span class="title" data-v-09de1c0f>HTML</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>Released under the MIT License.</p><p class="copyright" data-v-e315a0ad>Copyright © 2023 - 2024 💓 minsion</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"en_blog_js.md\":\"nmTx04EV\",\"blog_vue-vitepress.md\":\"DUHuP__o\",\"en_essays_essays.md\":\"CRJiWj4P\",\"en_essays_browser.md\":\"CHHhRBCZ\",\"en_essays_html.md\":\"ImZrEe0y\",\"en_essays_css.md\":\"Djzd0IOK\",\"en_blog_vue-vitepress.md\":\"BUsP-FkI\",\"en_essays_javascript.md\":\"C1qdat4-\",\"en_essays_javascript_duyi.md\":\"DicZSilg\",\"en_essays_other.md\":\"CYaKCLKg\",\"en_essays_network.md\":\"BlywHp62\",\"en_essays_vue3.md\":\"DxpdFz5j\",\"en_essays_typescript.md\":\"BUJVHYpK\",\"en_essays_react.md\":\"BPcPRoiI\",\"en_essays_vue.md\":\"CIxZFJdu\",\"en_index.md\":\"EtzbbKTE\",\"essays_browser.md\":\"DBVf3wW4\",\"en_quotation.md\":\"C-a0Ug2W\",\"en_navigation.md\":\"SMZWfibx\",\"essays_essays.md\":\"jkhLslG7\",\"essays_html.md\":\"D_d6fk6A\",\"essays_css.md\":\"Ywi9wKvR\",\"en_function.md\":\"DCuUc1mk\",\"essays_network.md\":\"B81Wb8Hk\",\"essays_javascript_duyi.md\":\"D7-90l-r\",\"essays_other.md\":\"OIwyF1M6\",\"essays_javascript.md\":\"ZtCXY5pB\",\"essays_react.md\":\"D8Yb2otw\",\"essays_vue3.md\":\"z6V9toEu\",\"essays_vue.md\":\"E4pme6-e\",\"essays_typescript.md\":\"IasvYPLA\",\"index.md\":\"Drmih5tn\",\"quotation.md\":\"Cw0ltVBe\",\"navigation.md\":\"CUR0iiHP\",\"function.md\":\"BV4PGo0H\",\"blog_js.md\":\"C6ptflr4\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"ApeCode\",\"description\":\"描述\",\"base\":\"/apecode/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"siteTitle\":\"ApeCode\",\"logo\":\"./images/logo_min.svg\",\"outline\":\"deep\",\"outlineTitle\":\"目录\",\"sidebarMenuLabel\":\"导航\",\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"},\"returnToTopLabel\":\"返回顶部\",\"darkModeSwitchLabel\":\"外观\",\"editLink\":{\"pattern\":\"https://github.com/minsion/apecode/blob/master/docs/:path\",\"text\":\"编辑此页\"},\"lastUpdatedText\":\"最后更新于\",\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"导航\",\"link\":\"/navigation\"},{\"text\":\"轻函数\",\"link\":\"/function.md\"},{\"text\":\"八股文\",\"items\":[{\"text\":\"概述\",\"link\":\"/essays/essays.md\"},{\"text\":\"网络\",\"link\":\"/essays/network.md\"},{\"text\":\"浏览器\",\"link\":\"/essays/browser.md\"},{\"text\":\"HTML\",\"link\":\"/essays/html.md\"},{\"text\":\"CSS\",\"link\":\"/essays/css.md\"},{\"text\":\"JavaScript\",\"link\":\"/essays/javascript.md\"},{\"text\":\"Vue\",\"link\":\"/essays/vue.md\"},{\"text\":\"Vue3\",\"link\":\"/essays/vue3.md\"},{\"text\":\"React\",\"link\":\"/essays/react.md\"},{\"text\":\"其它\",\"link\":\"/essays/other.md\"}]},{\"text\":\"面试题\",\"items\":[{\"text\":\"JavaScript\",\"link\":\"/blog/js.md\"}]},{\"text\":\"语录\",\"link\":\"/quotation.md\"}],\"sidebar\":{\"/blog/\":[{\"text\":\"JavaScript\",\"link\":\"/blog/js.md\",\"items\":[],\"collapsed\":true}],\"/essays/\":[{\"text\":\"概述\",\"link\":\"/essays/essays.md\"},{\"text\":\"网络\",\"link\":\"/essays/network.md\"},{\"text\":\"浏览器\",\"link\":\"/essays/browser.md\"},{\"text\":\"HTML\",\"link\":\"/essays/html.md\"},{\"text\":\"CSS\",\"link\":\"/essays/css.md\"},{\"text\":\"JavaScript\",\"link\":\"/essays/javascript.md\"},{\"text\":\"Vue\",\"link\":\"/essays/vue.md\"},{\"text\":\"Vue3\",\"link\":\"/essays/vue3.md\"},{\"text\":\"React\",\"link\":\"/essays/react.md\"},{\"text\":\"其它\",\"link\":\"/essays/other.md\"}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/minsion/apecode\"}],\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2023 - 2024 💓 minsion\"},\"search\":{\"provider\":\"local\"}},\"locales\":{\"root\":{\"label\":\"简体中文\",\"lang\":\"zh-CN\"},\"en\":{\"label\":\"English\",\"lang\":\"en-US\",\"title\":\"ApeCode\",\"description\":\"describe\",\"base\":\"/apecode/\",\"srcDir\":\"docs\",\"lastUpdated\":true,\"themeConfig\":{\"siteTitle\":\"ApeCode\",\"logo\":\"../images/logo_min.svg\",\"outline\":\"deep\",\"outlineTitle\":\"Catalogue\",\"sidebarMenuLabel\":\"navigation\",\"docFooter\":{\"prev\":\"Previous\",\"next\":\"Next\"},\"returnToTopLabel\":\"Back to top\",\"darkModeSwitchLabel\":\"Exterior\",\"editLink\":{\"pattern\":\"https://github.com/minsion/apecode/blob/master/docs/:path\",\"text\":\"Edit this page\"},\"lastUpdatedText\":\"Last updated on\",\"nav\":[{\"text\":\"Home\",\"link\":\"/en/\"},{\"text\":\"Navigation\",\"link\":\"/en/navigation\"},{\"text\":\"Light Function\",\"link\":\"/en/function.md\"},{\"text\":\"Eight-part essay\",\"items\":[{\"text\":\"Overview\",\"link\":\"/en/essays/essays.md\"},{\"text\":\"Network\",\"link\":\"/en/essays/network.md\"},{\"text\":\"Browser\",\"link\":\"/en/essays/browser.md\"},{\"text\":\"HTML\",\"link\":\"/en/essays/html.md\"},{\"text\":\"CSS\",\"link\":\"/en/essays/css.md\"},{\"text\":\"JavaScript\",\"link\":\"/en/essays/javascript.md\"},{\"text\":\"Vue\",\"link\":\"/en/essays/vue.md\"},{\"text\":\"Vue3\",\"link\":\"/en/essays/vue3.md\"},{\"text\":\"React\",\"link\":\"/en/essays/react.md\"},{\"text\":\"Other\",\"link\":\"/en/essays/other.md\"}]},{\"text\":\"Interview Questions\",\"items\":[{\"text\":\"Javascript\",\"link\":\"/en/blog/js.md\"}]},{\"text\":\"Quotes\",\"link\":\"/en/quotation.md\"}],\"sidebar\":{\"/en/blog/\":[{\"text\":\"Javascript\",\"link\":\"/en/blog/js.md\",\"items\":[],\"collapsed\":true}],\"/en/essays/\":[{\"text\":\"Overview\",\"link\":\"/en/essays/essays.md\"},{\"text\":\"Network\",\"link\":\"/en/essays/network.md\"},{\"text\":\"Browser\",\"link\":\"/en/essays/browser.md\"},{\"text\":\"HTML\",\"link\":\"/en/essays/html.md\"},{\"text\":\"CSS\",\"link\":\"/en/essays/css.md\"},{\"text\":\"JavaScript\",\"link\":\"/en/essays/javascript.md\"},{\"text\":\"Vue\",\"link\":\"/en/essays/vue.md\"},{\"text\":\"Vue3\",\"link\":\"/en/essays/vue3.md\"},{\"text\":\"React\",\"link\":\"/en/essays/react.md\"},{\"text\":\"Other\",\"link\":\"/en/essays/other.md\"}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/minsion/apecode\"}],\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2023 - 2024 💓 minsion\"},\"search\":{\"provider\":\"local\"}},\"head\":[[\"meta\",{\"name\":\"referrer\",\"content\":\"never\"}],[\"link\",{\"rel\":\"icon\",\"href\":\"./images/logo.png\"}],[\"link\",{\"rel\":\"keywords\",\"content\":\"猿代码、apecode\"}],[\"link\",{\"rel\":\"description\",\"content\":\"程序猿的秘密花园\"}],[\"script\",{},\"\\n      (function(c,l,a,r,i,t,y){\\n        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};\\n        t=l.createElement(r);t.async=1;t.src=\\\"https://www.clarity.ms/tag/\\\"+i;\\n        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);\\n      })(window, document, \\\"clarity\\\", \\\"script\\\", \\\"jporfk7f2x\\\");\\n    \"]]}},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>